<%- include('../partials/_navbar') %>
<link rel="stylesheet" href="/css/styles.css" />

<div class="dashboard-container">
  <h1>Edit Recipe</h1>
  
  <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
    <!-- Recipe Title -->
    <div class="form-section">
      <label for="title">Recipe Title:</label>
      <input type="text" id="title" name="recipe[title]" value="<%= recipe.title %>" required />
    </div>
    
    <!-- Ingredients -->
    <div class="form-section">
      <label for="ingredients">Ingredients (one per line):</label>
      <textarea id="ingredients" name="recipe[ingredients]" required><%= recipe.ingredients %></textarea>
    </div>
    
    <!-- Instructions -->
    <div class="form-section">
      <label for="instructions">Instructions:</label>
      <textarea id="instructions" name="recipe[instructions]" required><%= recipe.instructions %></textarea>
    </div>
    
    <!-- Current Image -->
    <div class="form-section">
      <label>Current Image:</label>
      <% if (recipe.image) { %>
        <img src="<%= recipe.image %>" alt="<%= recipe.title %>" class="recipe-image" />
      <% } else { %>
        <p>No image uploaded</p>
      <% } %>
    </div>
    
    <!-- File Upload -->
    <div class="form-section">
      <label for="image">Update Image (Optional):</label>
      <input type="file" id="image" name="image" class="file-input" />
    </div>
    
    <!-- Submit Button -->
    <button type="submit">Update Recipe</button>
  </form>
</div>

<%- include('../partials/_footer') %>
